title = "Blog Post"
url = "/blog/:category/:slug"
layout = "sidebar-right"
is_hidden = 0
child_of = "blog/blog-component-category"
hide_crumb = 0
remove_crumb_trail = 0
crumbElementTitle = "page-title"
crumb_disabled = 0
robot_index = "index"
robot_follow = "follow"

[viewBag]
localeUrl[de] = "/recent-posts"
localeUrl[fr] = "/recent-posts"
localeUrl[pgl] = "/recent-posts"

[blogPost blog_posts_single]
slug = "{{ :slug }}"
categoryPage = "blog/blog-component-category"

[editableBlogPost]

[suggestable]

[userProfile user]

[globalRelationships relations]

[registerVisit]

[SeoBlogPost]
post = "post"
==
<?php
function onEnd()
{
    if ($this->post)
{
$this->page->title = $this->post->title;
$this['editable'] = $this->post->userCanEdit();
$this['editing'] = $this->param('mode')==='edit' && $this['editable']===true;
// @todo: return a redirect to view if mode===edit && editable ===false
}
}
?>
==
{% if post %}
{% put sidebarBottom %}
{% partial 'sidebars/global_relations_lists' relationships=relations.parse(post) %}
{% endput %}
    <span class="d-none" id="category-title"><a href="{{ post.categories[0].url }}">{{ post.categories[0].name }}</a></span>
    {% component 'blog_posts_single' %}
    {% component 'SeoBlogPost' data=post %}
{% else %}
<p>Couldn't find that post :'(</p>
{% endif %}